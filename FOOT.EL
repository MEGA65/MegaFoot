' ◊AY OF THE …MPLODING ∆OOT' -------------------------' ¡ COLLABORATIVE TEAM-EFFORT GAME MADE BY THE Õ≈«¡65 COMMUNITY'' «URCE:' - …NITIAL BACKGROUND ART AND ≈LEVEN CODE INFRASTRUCTURE#OUTPUT "FOOT"' ¬¡ŒÀ4 ÕEMORY USAGE' ------------------' 4.0000 ƒÕ¡-Ã…”‘' 4.0800 ”√“≈≈Œ Õ≈Õœ“Ÿ' 4.2000 –≈‘”√…… «“¡–»…√”.PETSCII VARS'------------#DECLARE DATAØADDR = $42000#DECLARE MAXØFRAMES#DECLARE FRAMEØADDR(64)#DECLARE FRMØIDX = 0#DECLARE FRMW, FRMH,FRMX,FRMY,FRMX1,FRMY1,FRAMEIDX,CDATAØADDR#DECLARE YY, SCRADDR,CLRADDR#DECLARE A$, LIDX, K#DECLARE SRCØADDR, DESTØADDR, LENGTH, TRANSP#DECLARE XOFFS(6) ' OFFSET INTO CYCLING OF GRAPHIC#DEFINE …Õ«Ø√Ãœ’ƒ” = 0#DEFINE …Õ«Ø”ÀŸ = 1#DEFINE …Õ«ØÃ‘ØÕœ’Œ‘ = 2#DEFINE …Õ«ØƒÀØÕœ’Œ‘ = 3#DEFINE …Õ«Ø»…Ø«“œ’Œƒ = 5#DEFINE …Õ«ØÃœØ«“œ’Œƒ = 6#DEFINE Õ¡ÿØÃ¡Ÿ≈“ = 6#DECLARE DRAWØORDER(6)DRAWØORDER(0) = 1DRAWØORDER(1) = 0DRAWØORDER(2) = 2DRAWØORDER(3) = 3DRAWØORDER(4) = 4DRAWØORDER(5) = 5DRAWØORDER(6) = 6GOSUB LOADØDATA.LOOP0  GOSUB INITØVARS  ' GOSUB SHOWØTITLE  GOSUB GAMEPLAY  ' GOSUB GAMEOVER  GOTO LOOP0'---------------.TRANSPARENTØDMA'---------------  WPOKE $40007, SRCØADDR  WPOKE $4000A, DESTØADDR  WPOKE $40005, LENGTH  POKE  $40002, TRANSP  POKE $D702, 4 ' DMA LIST IN BANK 4  POKE $D701, $00 ' DMA LIST MSB  POKE $D705, $00 ' DMA LIST LSB  RETURN'---------.LOADØDATA'---------  ' ∆œ“Õ¡‘:  ' ------  ' - ‘HE SAME AS USED BY ÿANADU GRAB TOOL?  ' - ”AVE OUT A FILE FOR PARALLAX LAYERS  ' - ”AVE OUT A FILE FOR SPRITES^^BLOAD "LAYERS.BIN",P($42000),R  GOSUB INITØPETSCIIØFRAMES  RETURN'---------.INITØVARS'---------  ' CLEAR DMA LIST AREA  FOR K = 0 TO 20    POKE $40000+K, 0  NEXT K  POKE $40000, $07 ' OPT = ENABLE TRANSPARENCY  POKE $40001, $86 ' OPT = SET TRANSPARENCY  POKE $40002, $20 ' TRANSPARENCY VALUE  POKE $40003, $00 ' END OF OPTIONS  POKE $40004, $00 ' √Õƒ LSB = √œ–Ÿ  WPOKE $40005, $0000 ' LENGTH  WPOKE $40007, $1000 ' SOURCE ADDR  POKE $40009, $04    ' SOURCE BANK  WPOKE $4000A, $1000 ' DEST ADDR  POKE $4000C, $04    ' DEST BANK  POKE $4000D, $00    ' √Õƒ MSB (IGNORE)  WPOKE $4000E, $0000 ' MODULO (IGNORE)  RETURN'-------------------.INITØPETSCIIØFRAMES'-------------------  MAXØFRAMES = PEEK(DATAØADDR)  DATAØADDR = DATAØADDR + 1  DO WHILE FRMØIDX < MAXØFRAMES    FRAMEØADDR(FRMØIDX) = DATAØADDR    DATAØADDR = DATAØADDR + 2    FRMW = PEEK(DATAØADDR)    DATAØADDR = DATAØADDR + 1    FRMH = PEEK(DATAØADDR)    DATAØADDR = DATAØADDR + 1    DATAØADDR = DATAØADDR + FRMW * FRMH * 2    ':PRINT CHR$(147);"FRMØIDX=";FRMØIDX    'FRAMEIDX=FRMØIDX    'GOSUB DRAWØPETSCIIØFRAME    'GETKEY TEST2$    FRMØIDX = FRMØIDX + 1  LOOP  RETURN'------------------.DRAWØPETSCIIØFRAME'------------------  DATAØADDR = FRAMEØADDR(FRAMEIDX)  FRMX = PEEK(DATAØADDR)  DATAØADDR = DATAØADDR + 1  FRMY = PEEK(DATAØADDR)  DATAØADDR = DATAØADDR + 1  FRMW = PEEK(DATAØADDR)  DATAØADDR = DATAØADDR + 1  FRMH = PEEK(DATAØADDR)  DATAØADDR = DATAØADDR + 1  FRMX1=FRMX+FRMW-1  FRMY1=FRMY+FRMH-1  SCRADDR = $40800 + FRMX + FRMY * 80  CLRADDR = $FF80000 + FRMX + FRMY * 80  CDATAØADDR = DATAØADDR + FRMW * FRMH  FOR YY=FRMY TO FRMY1    ' FROM OFFSET TO END    ' ------------------    IF (FRMW-XOFFS) > 0 THEN BEGIN      ' EDMA 0, FRMW-XOFFS, DATAØADDR, SCRADDR+XOFFS      SRCØADDR = DATAØADDR      DESTØADDR = SCRADDR+XOFFS      LENGTH = FRMW-XOFFS      TRANSP = 32      GOSUB TRANSPARENTØDMA      EDMA 0, FRMW-XOFFS, CDATAØADDR, CLRADDR+XOFFS      ' GOSUB TRANSPARENTØDMA    BEND    ' FROM START TO OFFSET-1    ' ----------------------    IF XOFFS > 0 THEN BEGIN      ' EDMA 0, XOFFS, DATAØADDR+(FRMW-XOFFS), SCRADDR      SRCØADDR = DATAØADDR+(FRMW-XOFFS)      DESTØADDR = SCRADDR      LENGTH = XOFFS      TRANSP = 32      GOSUB TRANSPARENTØDMA      EDMA 0, XOFFS, CDATAØADDR+(FRMW-XOFFS), CLRADDR      ' GOSUB TRANSPARENTØDMA    BEND    DATAØADDR = DATAØADDR + FRMW    CDATAØADDR = CDATAØADDR + FRMW    SCRADDR = SCRADDR + 80    CLRADDR = CLRADDR + 80    NEXT YY  RETURN'--------.GAMEPLAY'--------  GOSUB DRAWØBACKGROUND  ' GOSUB DRAWØSPRITES  ' GOSUB USERØINPUT  ' GOSUB GAMEØLOGIC  GOTO GAMEPLAY  RETURN'---------------.DRAWØBACKGROUND'---------------  GETKEY A$  IF A$="" THEN XOFFS=XOFFS+1  IF A$="ù" THEN XOFFS=XOFFS-1  PRINT CHR$(147)  FOR LIDX = 0 TO Õ¡ÿØÃ¡Ÿ≈“     ' IF LAYERØVISIBLE[LIDX] = 1 THEN BEGIN       FRAMEIDX = DRAWØORDER(LIDX)       GOSUB DRAWØPETSCIIØFRAME      'BEND  NEXT LIDX  RETURN